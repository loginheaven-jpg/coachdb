# PPMS 업그레이드 계획

## 현재 상태 요약

### 구현 완료 (85%)
- 사용자 인증 및 역할 관리
- 프로젝트 CRUD 및 상태 워크플로우
- 역량항목 마스터 데이터 및 템플릿 시스템
- 지원서 제출/수정/조회
- 파일 업로드/다운로드/미리보기
- 역량 검증 시스템
- 알림 시스템 (인앱)
- 과제참여/과제관리 분리

### 부분 구현 (구조만 존재)
- 자동 점수 계산
- 선발/탈락 처리
- 이메일 알림
- 평가 시스템

---

## Phase 1: MVP 완성 (우선순위: 높음)

### 1.1 자동 점수 계산 시스템
**현재**: ScoringCriteria 모델 존재, 계산 로직 미구현
**목표**: 설문 응답 기반 자동 점수 산출

| 작업 | 설명 |
|------|------|
| 점수 계산 서비스 생성 | `score_service.py` - 기준별 점수 계산 로직 |
| API 연동 | 지원서 제출 시 자동 점수 계산 |
| 관리자 UI | 점수 확인 및 수동 조정 기능 |
| 가중치 시스템 | 항목별 가중치 설정 |

### 1.2 선발/탈락 시스템
**현재**: 수동 처리만 가능
**목표**: 순위 기반 일괄 선발

| 작업 | 설명 |
|------|------|
| 순위 정렬 API | 점수 기준 자동 순위 산출 |
| 컷오프 설정 | 정원 기준 자동 선발 기능 |
| 일괄 처리 UI | 선발/탈락 일괄 버튼 |
| 결과 알림 | 선발/탈락 결과 자동 알림 |

### 1.3 관리자 대시보드 통계
**현재**: 기본 구조만 존재
**목표**: 실시간 운영 현황 파악

| 지표 | 설명 |
|------|------|
| 과제별 현황 | 과제 수, 모집 상태, 응모자 수 |
| 응모 퍼널 | 방문 → 지원시작 → 제출 → 선발 |
| 역량 분포 | 항목별 입력 완료율 |
| 기간별 추이 | 월별/주별 통계 |

### 1.4 이메일 알림 안정화
**현재**: SMTP 설정 완료, 발송 불안정
**목표**: 안정적인 이메일 발송

| 작업 | 설명 |
|------|------|
| 이메일 템플릿 | 상황별 HTML 템플릿 |
| 발송 큐 | 비동기 발송 처리 |
| 재시도 로직 | 실패 시 자동 재시도 |
| 발송 로그 | 발송 이력 추적 |

---

## Phase 2: UX 개선 (우선순위: 중간)

### 2.1 과제 공유 링크
**현재**: 로그인 없이 과제 조회 불가
**목표**: 외부 홍보용 링크 생성

| 작업 | 설명 |
|------|------|
| 공개 조회 API | 비로그인 과제 상세 조회 |
| 공유 URL 생성 | `/public/projects/:id` 형태 |
| QR 코드 | 과제별 QR 코드 자동 생성 |
| 지원 유도 | 공유 페이지에서 회원가입으로 연결 |

### 2.2 역량 월렛 재사용 최적화
**현재**: 연동 구조 존재, UI 미흡
**목표**: 원클릭 역량 재사용

| 작업 | 설명 |
|------|------|
| 빠른 가져오기 | "내 역량에서 가져오기" 버튼 |
| 자동 매칭 | 동일 항목 자동 연결 |
| 변경 감지 | 원본 변경 시 알림 |
| 일괄 적용 | 여러 지원서에 동시 반영 |

### 2.3 역할별 UI 정리
**현재**: 페이지 혼재
**목표**: 역할별 명확한 메뉴 구조

| 역할 | 메뉴 구성 |
|------|-----------|
| COACH | 과제참여, 내 지원서, 세부정보 |
| PROJECT_MANAGER | 과제관리, 응모자 관리, 평가 |
| VERIFIER | 검증 대기, 검증 완료 |
| SUPER_ADMIN | 전체 + 사용자 관리, 시스템 설정 |

### 2.4 API 캐싱 레이어
**현재**: Redis 연결 설정만 존재
**목표**: 빈번한 조회 데이터 캐싱

| 대상 | 캐시 TTL |
|------|----------|
| 역량항목 마스터 | 1시간 |
| 과제 설정 | 10분 |
| 사용자 권한 | 5분 |
| 통계 데이터 | 1분 |

---

## Phase 3: 확장 기능 (우선순위: 낮음)

### 3.1 참여자 평가 시스템
**현재**: CoachEvaluation 모델만 존재
**목표**: 과제 종료 후 참여자 평가

| 작업 | 설명 |
|------|------|
| 평가 UI | 과제관리자용 평가 폼 |
| 4점 척도 | 적극성, 전문성, 협력성, 성장가능성 |
| 코멘트 | 텍스트 피드백 입력 |
| 평가 이력 | 코치별 평가 기록 조회 |

### 3.2 Excel 내보내기/가져오기
| 기능 | 설명 |
|------|------|
| 응모자 목록 내보내기 | 과제별 지원서 전체 Excel |
| 평가 결과 내보내기 | 평가 점수 및 코멘트 |
| 코치 정보 가져오기 | 대량 코치 등록 |
| 과제 템플릿 | 과제 설정 복제 |

### 3.3 SMS 알림
| 상황 | 메시지 |
|------|--------|
| 선발 결과 | 선발/탈락 결과 안내 |
| 마감 임박 | 지원 마감 D-1 알림 |
| 보완 요청 | 서류 보완 필요 안내 |

### 3.4 고급 분석 대시보드
| 지표 | 설명 |
|------|------|
| 코호트 분석 | 과제별 참여자 추적 |
| 전환율 | 지원 → 제출 → 선발 비율 |
| 역량 트렌드 | 시간별 역량 입력 추이 |
| 비교 분석 | 과제간 응모자 프로필 비교 |

---

## Phase 4: 향후 과제 (로드맵)

### 4.1 백그라운드 작업 시스템
- Celery 또는 유사 작업 큐 도입
- 6개월 역량 갱신 알림 스케줄러
- 대용량 파일 처리
- 정기 리포트 자동 생성

### 4.2 본인인증 연동
- PASS/KCB 통합
- 휴대폰 인증 플로우
- 중복 계정 방지

### 4.3 커스텀 리포트 빌더
- 드래그앤드롭 리포트 생성
- PDF/Excel 자동 생성
- 정기 발송 설정

### 4.4 다국어 지원
- i18n 프레임워크 도입
- 한/영 UI 전환
- 에러 메시지 다국어화

---

## 기술 부채 해결

### 성능 최적화
| 작업 | 설명 |
|------|------|
| DB 인덱스 추가 | applications(project_id, status) 등 |
| 쿼리 최적화 | N+1 문제 해결 |
| 번들 분할 | 코드 스플리팅 적용 |
| 이미지 최적화 | 썸네일 자동 생성 |

### 코드 품질
| 작업 | 설명 |
|------|------|
| 테스트 커버리지 | API 단위 테스트 추가 |
| 에러 핸들링 | 일관된 에러 응답 형식 |
| 로깅 강화 | 감사 로그 추가 |
| 문서화 | API 문서 자동 생성 |

---

## 우선순위 매트릭스

```
긴급     │ Phase 1.1 (점수계산)
높음     │ Phase 1.2 (선발시스템)
         │ Phase 1.3 (대시보드)
         │
중간     │ Phase 2.1 (공유링크)
         │ Phase 2.2 (역량재사용)
         │
낮음     │ Phase 3.x (확장기능)
         │ Phase 4.x (향후과제)
         └────────────────────→
              노력/복잡도
```

---

## 구현 순서 제안

1. **즉시**: Phase 1.1 ~ 1.2 (핵심 기능)
2. **1-2주**: Phase 1.3 ~ 1.4 (운영 필수)
3. **2-4주**: Phase 2.x (UX 개선)
4. **1-2개월**: Phase 3.x (확장)
5. **분기별**: Phase 4.x (로드맵)

---

## 참고: 현재 시스템 규모

| 구분 | 수량 |
|------|------|
| 백엔드 API 라인 | 8,630줄 |
| 프론트엔드 페이지 | 28개 |
| 데이터베이스 테이블 | 21개 |
| API 엔드포인트 | 11개 모듈 |
