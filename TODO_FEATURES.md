# CoachDB 향후 구현 계획

**문서 버전**: 1.1
**작성일**: 2025-12-23
**기준 문서**: coach_db_service_final_v3.md

---

## 현재 구현 상태 요약

### Phase 1 (MVP) - 완료/진행중

| 기능 | 상태 | 비고 |
|------|------|------|
| 프로젝트 생성/관리 | ✅ 완료 | |
| 지원서 작성/제출 | ✅ 완료 | |
| 역량 재사용 (전자지갑) | ✅ 완료 | 핵심 기능 |
| 증빙서류 검토 | ✅ 완료 | 다중 Verifier 지원 |
| 보완요청 사유 입력 | ✅ 완료 | rejection_reason 필드 |
| 동시 검토 Lock | ✅ 완료 | review_locks 테이블 |
| 선발 프로세스 | ⚠️ 부분 | 평가/점수계산 미구현 |
| 이메일 발송 | ⚠️ 부분 | SMTP 설정 완료, 테스트 필요 |

### Phase 2 - 미구현

| 기능 | 상태 | 비고 |
|------|------|------|
| Excel 업로드/다운로드 | ❌ 미구현 | |
| SMS 발송 | ❌ 미구현 | |
| 본인인증 | ❌ 미구현 | |
| 6개월 주기 업데이트 리마인드 | ❌ 미구현 | |
| 고급 통계/리포트 | ❌ 미구현 | |

---

## 향후 구현 항목

### 1. 평가 모듈 (우선순위: 높음)

#### 1.1 자동 점수 계산
- [ ] ScoringCriteria 기반 자동 점수 계산 로직
- [ ] 평가 기준 관리 UI (운영자)
- [ ] 지원서별 점수 계산 및 저장

#### 1.2 증빙 첨부 가감점 자동화
- [ ] `proof_required_level == OPTIONAL`인 항목에서:
  - 증빙 첨부 시 → 가점 부여
  - 미첨부 시 → 감점 처리
- [ ] ProjectItem에 `proof_bonus_score` 필드 추가 검토
- [ ] 평가 시 자동 반영 로직

#### 1.3 평가 결과 관리
- [ ] 지원자별 총점 조회 UI
- [ ] 선발 기준(컷오프) 설정
- [ ] 일괄 선발/탈락 처리

---

### 2. 과제 링크 공유 기능 (우선순위: 높음)

> 현재 구글폼 링크를 SNS에 공유하는 방식을 대체

#### 2.1 링크 생성 및 공유
- [ ] 과제 생성 후 "링크 복사" 버튼 추가
- [ ] 고유 공유 URL 생성 (예: `/projects/join/{project_code}`)
- [ ] 클립보드 복사 기능
- [ ] QR 코드 생성 (선택)

#### 2.2 비로그인 사용자 플로우
- [ ] 공유 링크 클릭 → 과제 상세 화면 표시 (비로그인 상태)
- [ ] "참여하기" 버튼 클릭 → 로그인 페이지 이동
- [ ] 로그인 후 자동으로 지원서 작성 화면으로 이동
- [ ] 신규 사용자의 경우 회원가입 → 지원서 작성

#### 2.3 공유 화면 최적화
- [ ] SNS 미리보기용 OG 태그 설정
- [ ] 과제 요약 정보 표시 (모집기간, 모집인원, 자격요건)
- [ ] 모바일 최적화

---

### 3. 심사 모듈 (우선순위: 높음)

> 자동 평가 + 심사위원 정성평가 → 최종 선발

#### 3.1 심사위원 역할 추가
- [ ] UserRole에 REVIEWER 역할 추가
- [ ] 심사위원 배정 기능 (과제별)
- [ ] 심사위원 권한 관리

#### 3.2 정성 평가 기능
- [ ] 자동 평가 결과 조회 화면
- [ ] 심사위원별 정성 평가 입력
  - 평가 항목 (예: 적합성, 전문성, 성실성 등)
  - 점수 또는 등급 부여
  - 심사 의견 텍스트 입력
- [ ] 심사 결과 저장 및 이력 관리

#### 3.3 종합 평가 및 선발
- [ ] 자동점수 + 정성평가 종합 계산
- [ ] 심사위원별 평가 결과 비교 화면
- [ ] 최종 선발자 확정 기능
- [ ] 선발/탈락 결과 일괄 통보 (이메일/알림)

#### 3.4 데이터 모델
```
ReviewerAssignment (심사위원 배정)
- project_id, reviewer_id, assigned_at

QualitativeReview (정성 평가)
- application_id, reviewer_id
- criteria_scores (JSON: 항목별 점수)
- comments, total_score
- reviewed_at
```

---

### 4. 과제 수행 후 평가 모듈 (우선순위: 중간)

> 선발된 참여자의 과제 수행 결과 평가

#### 4.1 수행 평가 기능
- [ ] 과제 관리자용 수행 평가 화면
- [ ] 참여자별 평가 등급 선택
  - A: 우수
  - B: 양호
  - C: 불충분
- [ ] C등급(불충분) 선택 시 사유 입력 필수
- [ ] 평가 저장 및 수정

#### 4.2 평가 결과 관리
- [ ] 참여자별 수행 평가 이력 조회
- [ ] 코치 프로필에 수행 평가 이력 표시 (선택)
- [ ] 향후 선발 시 참고 자료로 활용

#### 4.3 데이터 모델
```
PerformanceEvaluation (수행 평가)
- application_id (선발된 지원서)
- evaluator_id (과제 관리자)
- grade: ENUM('A', 'B', 'C')
- reason (C등급 시 필수)
- evaluated_at
```

---

### 5. Excel 기능 (우선순위: 중간)

#### 5.1 다운로드
- [ ] 지원자 목록 Excel 다운로드
- [ ] 평가 결과 Excel 다운로드
- [ ] 프로젝트별 통계 다운로드

#### 5.2 업로드
- [ ] 기존 코치 데이터 일괄 등록
- [ ] 평가 결과 일괄 업로드

---

### 6. 알림 시스템 확장 (우선순위: 중간)

#### 6.1 이메일 발송 안정화
- [ ] Gmail SMTP 발송 테스트 완료
- [ ] 발송 실패 시 재시도 로직
- [ ] 발송 로그 관리

#### 6.2 SMS 발송
- [ ] SMS 발송 서비스 연동 (NHN Cloud, 알리고 등)
- [ ] 주요 알림 SMS 발송 옵션

#### 6.3 6개월 주기 업데이트 리마인드
- [ ] competency_reminders 테이블 활용
- [ ] 스케줄러(Celery) 설정
- [ ] 리마인드 이메일 템플릿

---

### 7. 본인인증 (우선순위: 낮음)

- [ ] 휴대폰 본인인증 연동 (PASS, KCB 등)
- [ ] 인증 완료 사용자 표시
- [ ] 중복 가입 방지

---

### 8. 고급 통계/리포트 (우선순위: 낮음)

- [ ] 대시보드 통계 강화
  - 프로젝트별 지원/선발 현황
  - 코치 역량 분포
  - 기간별 추이
- [ ] 리포트 생성 기능
- [ ] 데이터 시각화 (차트)

---

### 9. 기타 개선사항

#### 9.1 UI/UX 개선
- [ ] 코치 대시보드 완성도 바 표시
- [ ] 지원서 진행률 시각화 강화
- [ ] 모바일 반응형 최적화

#### 9.2 성능 최적화
- [ ] 대용량 파일 처리 최적화
- [ ] API 응답 캐싱
- [ ] DB 쿼리 최적화

#### 9.3 보안 강화
- [ ] 감사 로그 고도화
- [ ] IP 기반 접근 제한 (선택)
- [ ] 2단계 인증 (관리자용)

---

## 구현 우선순위

1. **즉시**: 평가 모듈 (점수 계산, 선발 처리), 과제 링크 공유, 심사 모듈
2. **단기**: 과제 수행 후 평가, Excel 다운로드, 이메일 안정화
3. **중기**: SMS, 6개월 리마인드, Excel 업로드
4. **장기**: 본인인증, 고급 통계

---

## 변경 이력

| 날짜 | 버전 | 변경 내용 |
|------|------|----------|
| 2025-12-23 | 1.0 | 최초 작성 |
| 2025-12-23 | 1.1 | 과제 링크 공유, 심사 모듈, 과제 수행 후 평가 모듈 추가 |
